## Pipeline for running eems on the Mytilus edulis (Med19) dataset.

# Using the IBS matrix generated by ANGSD (.ibsMat) as .diffs file.
# Could also try with the pcangsd covariance matrix, converted to distance (1-pcangsd.cov) afterwards maybe??

# Generating the ".coord" file by just saving one line with sampling coordinates for each individual in the .diffs matrix.

# Generating the ".outer" file by making a polygon in Google earth, then exporting it as .kml, opening in a text editor and copying out the <coordinates> element.
# Coordinates were already counter-clockwise, with last element same as the first.

# Generating 3 parameter files, identical except for the output directory:

# params-chain1.ini:

# datapath = /Users/Pierre/Desktop/Med19_SWE/eems
# mcmcpath = /Users/Pierre/Desktop/Med19_SWE/eems/output-chain1
# nIndiv = 343
# nSites = 62223
# nSites = 40084
# nDemes = 300
# diploid = true
# numMCMCIter = 2000000
# numBurnIter = 1000000
# numThinIter = 9999

# Now, we can run eems (3 times):

./runeems_snps --params params-chain1.ini --seed 123
./runeems_snps --params params-chain2.ini --seed 456
./runeems_snps --params params-chain3.ini --seed 789
 
# Finally, open R and plot, using the "plotting.R" script. 
